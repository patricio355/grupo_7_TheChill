<!DOCTYPE html>
<html lang="en">

<head>
  <%- include ("../partials/head.ejs")  %>
  <link rel="stylesheet" href="css/index.css">
  <title>Home - THE CHILL</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@10/swiper-bundle.min.css" />
  <script src="https://cdn.jsdelivr.net/npm/swiper@10/swiper-bundle.min.js"></script>

</head>

<body>

  <%- include ("../partials/navbar.ejs") %>

  <section>
    <div class="imgpc">
      <!-- <a href=" ">
<img src="images/banerNey.jpeg" alt="">
</a> -->

    </div>
    <div class="imgmobile">
      <a href="">
        <img src="images/neymobile.jpeg" alt="">
      </a>

    </div>
  </section>

  <script type="module">
    import Swiper from 'https://cdn.jsdelivr.net/npm/swiper@10/swiper-bundle.min.mjs'
  
    const swiper = new Swiper('.swiper', {
    // Optional parameters
    direction: 'horizontal',
    loop: true,

    slidesPerView: 5,
  
   
  
    // Navigation arrows
    navigation: {
      nextEl: '.swiper-button-next',
      prevEl: '.swiper-button-prev',
    },
  
    // And if we need scrollbar
    
  });

  const swiper2 = new Swiper('.swiper2', {
    // Optional parameters
    direction: 'horizontal',
    loop: true,

    slidesPerView: 5,
  
   
  
    // Navigation arrows
    navigation: {
      nextEl: '.swiper-button-next',
      prevEl: '.swiper-button-prev',
    },
  
    // And if we need scrollbar
    
  });

  function updateSlidesPerView() {
  // Obtén el ancho de la ventana
  var windowWidth = window.innerWidth;

  // Actualiza el número de slides a mostrar en función del ancho de la ventana
  if (windowWidth <= 768) { // Cambia a 2 slides en pantallas más pequeñas
    swiper.params.slidesPerView = 2;
    swiper2.params.slidesPerView = 2;
  }else if(windowWidth <= 1000){ 
    swiper.params.slidesPerView = 3;
    swiper2.params.slidesPerView = 3;
  } 
  
  else { // Vuelve a 3 slides en pantallas más grandes
    swiper.params.slidesPerView = 5;
    swiper2.params.slidesPerView = 5;
  }

  // Actualiza el Swiper
  swiper.update();
  swiper2.update();
}

// Llama a la función para actualizar slidesPerView cuando se carga la página
window.addEventListener('load', updateSlidesPerView);

// Detecta el cambio en el tamaño de la ventana
window.addEventListener('resize', updateSlidesPerView);

  </script>



<!-- Slider main container -->
<div class="swiper">
  <!-- Additional required wrapper -->
  <div class="swiper-wrapper">
    <!-- Slides -->
    <% products.map(p => { %>
    <div class="swiper-slide"> 
      
      <div class="card">
        <a href="/productDetail/<%= p.id %>">
          <img src="images/<%= p.image %>"  alt="Wolverine" />
          <div class="detalle">
            <p><%= p.name %></p>
            <p>$<%= p.price %></p>
            <div class="estrellas">
              <div class="ima">
                <img src="images/clasificacion.png" alt="" />
                <p> 2589</p>
              </div>
            </div>
          </div>
        </a>
      </div>
      </div>
      <% }) %>
   
    
  </div>
  
  <!-- If we need navigation buttons -->
  <div class="swiper-button-prev"></div>
  <div class="swiper-button-next"></div>

  
</div>



  <div class="cen">
    <div class=" line"></div>
  </div>

  <h5 class="subtitulo">Basado en tu última visita</h5>

  
<!-- Slider main container -->
<div class="swiper2">
  <!-- Additional required wrapper -->
  <div class="swiper-wrapper">
    <!-- Slides -->
    <% products.map(p => { %>
    <div class="swiper-slide"> 
      
      <div class="card">
        <a href="/productDetail/<%= p.id %>">
          <img src="images/<%= p.image %>" style="max-width:200px; overflow: hidden;" alt="Wolverine" />
          <div class="detalle">
            <p><%= p.name %></p>
            <p>$<%= p.price %></p>
            <div class="estrellas">
              <div class="ima">
                <img src="images/clasificacion.png" alt="" />
                <p> 2589</p>
              </div>
            </div>
          </div>
        </a>
      </div>
      </div>
      <% }) %>
   
    ...
  </div>
  
  <!-- If we need navigation buttons -->
  <div class="swiper-button-prev"></div>
  <div class="swiper-button-next"></div>

  
</div>
  
  <div class="cen">
    <div class=" line"></div>
  </div>

  <h5 class="subtitulo">Ofertas</h5>
  


  <%- include ("../partials/footer.ejs") %>
  
</body>

</html>